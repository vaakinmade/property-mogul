{% extends "layout.html" %}
{% load static from staticfiles %}
{% load humanize %}

{% block content %}

<!-- Search
================================================== -->
<section class="search margin-bottom-50">
<div class="container">
	<div class="row">
		<div class="col-md-12">

			<!-- Title -->
			<h4 class="search-title">
				{% if listings %}
					{{listings.0.listingimage_set.all}} Properties {{listings.0.status}} in {{listings.0.state}}
				{% else %}
					Properties 
				{% endif %}
			</h4>

			<!-- Form -->
			<div class="main-search-box no-shadow">


				<!-- Row With Forms -->
				<div class="row with-forms">

					<!-- Main Search Input -->
					<div class="col-md-3">
						<div class="main-search-input">
							<input type="text" placeholder="Enter address e.g. street, city or state" value="{{request.GET.location|default:''}}" />
						</div>
					</div>
					
					<!-- Property Type -->
					<div class="col-md-2">
						<select data-placeholder="Any Type" class="chosen-select-no-single" >
							<option></option>	
							<option 
							{% if request.GET.listing_type == 'Apartments' %}selected{% endif %}>
							 <i class="fa fa-building"></i>Apartments
							</option>
							<option 
							{% if request.GET.listing_type == 'Houses' %}selected{% endif %}>
							 <i class="fa fa-building-o"></i>Houses
							</option>
							<option
							{% if request.GET.listing_type == 'Studios' %}selected{% endif %}>
							 <i class="fa fa-building-o"></i>Studios
							</option>
							<option
							{% if request.GET.listing_type == 'Commercial' %}selected{% endif %}>
							 <i class="fa fa-building-o"></i>Commercial
							</option>
							<option
							{% if request.GET.listing_type == 'Lots' %}selected{% endif %}>
							 <i class="fa fa-building-o"></i>Lots
							</option>
						</select>
					</div>

					<!-- Status -->
					<div class="col-md-2">
						<select data-placeholder="Any Status" class="chosen-select-no-single" >
							<option>Any Status</option>
							<option 
							{% if request.GET.status == 'For Sale' %}selected{% endif %}>
							 For Sale
							</option>
							<option 
							{% if request.GET.status == 'For Rent' %}selected{% endif %}>
							 For Rent
							</option>
						</select>
					</div>

					<!-- Max Price -->
					<div class="col-md-2">
						
						<!-- Select Input -->
						<div class="select-input disabled-first-option">
							<input type="text" value="{{request.GET.max_price}}" placeholder="Max Price" data-unit="NGN">
							<select>
								<option>Max Price</option>
								<option>250 000</option>
								<option>500 000</option>
								<option>1 000 000</option>
								<option>2 000 000</option>	
								<option>3 000 000</option>	
								<option>4 000 000</option>	
								<option>5 000 000</option>	
								<option>6 000 000</option>	
								<option>7 000 000</option>	
								<option>8 000 000</option>	
								<option>9 000 000</option>
								<option>10 000 000</option>
								<option>15 000 000</option>
								<option>20 000 000</option>
								<option>30 000 000</option>
								<option>40 000 000</option>
								<option>50 000 000</option>
								<option>60 000 000</option>
								<option>70 000 000</option>
								<option>80 000 000</option>
								<option>90 000 000</option>
								<option>100 000 000</option>
								<option>150 000 000</option>
							</select>
						</div>
						<!-- Select Input / End -->

					</div>

					<!-- Bedrooms -->
					<div class="col-md-2">
						<select data-placeholder="Any bedroom" class="chosen-select-no-single" >
							<option 
							{% if request.GET.bedroom %}selected{% endif %}>
								{{request.GET.bedroom}} bedrooms
							</option>
							<option>Any beds</option>
							<option>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
						</select>
					</div>

					<!-- Search button -->
					<div class="col-md-1">
						<div class="main-search-inpu">
							<button style='margin-left:-8px; padding-bottom:12px;' class="button">Search</button>
						</div>
					</div>

					
				</div>
				<!-- Row With Forms / End -->
			
			</div>
			<!-- Box / End -->
		</div>
	</div>
</div>
</section>



<!-- Content
================================================== -->
<div class="container">
	<div class="row fullwidth-layout">

		<div class="col-md-12">

			<!-- Sorting / Filter/ Layout Switcher -->
			<div class="row margin-bottom-15">
				<div class="col-md-8">
					<div class="col-md-12">
						<!-- More Search Options -->
					<a href="#" class="more-search-options-trigger margin-top-10" data-open-title="Filter Options" data-close-title="Less Options"></a>

					<div class="more-search-options relative">
						<div class="more-search-options-container">

							<!-- Row With Forms -->
							<div class="row with-forms">

								<!-- Age of Home -->
								<div class="col-md-3">
									<select data-placeholder="Age of Home" class="chosen-select-no-single" >
										<option label="blank"></option>	
										<option>Age of Home (Any)</option>	
										<option>0 - 1 Years</option>
										<option>0 - 5 Years</option>
										<option>0 - 10 Years</option>
										<option>0 - 20 Years</option>
										<option>0 - 50 Years</option>
										<option>50 + Years</option>
									</select>
								</div>

								<!-- Rooms Area -->
								<div class="col-md-3">
									<select data-placeholder="Rooms" class="chosen-select-no-single" >
										<option label="blank"></option>	
										<option>Rooms (Any)</option>	
										<option>1</option>
										<option>2</option>
										<option>3</option>
										<option>4</option>
										<option>5</option>
									</select>
								</div>

								<!-- Min Area -->
								<div class="col-md-3">
									<select data-placeholder="Beds" class="chosen-select-no-single" >
										<option label="blank"></option>	
										<option>Beds (Any)</option>	
										<option>1</option>
										<option>2</option>
										<option>3</option>
										<option>4</option>
										<option>5</option>
									</select>
								</div>

								<!-- Max Area -->
								<div class="col-md-3">
									<select data-placeholder="Baths" class="chosen-select-no-single" >
										<option label="blank"></option>	
										<option>Baths (Any)</option>	
										<option>1</option>
										<option>2</option>
										<option>3</option>
										<option>4</option>
										<option>5</option>
									</select>
								</div>

							</div>
							<!-- Row With Forms / End -->


							<!-- Checkboxes -->
							<div class="checkboxes in-row">
						
								<input id="check-2" type="checkbox" name="check">
								<label for="check-2">Air Conditioning</label>

								<input id="check-3" type="checkbox" name="check">
								<label for="check-3">Swimming Pool</label>

								<input id="check-4" type="checkbox" name="check" >
								<label for="check-4">Central Heating</label>

								<input id="check-5" type="checkbox" name="check">
								<label for="check-5">Laundry Room</label>	


								<input id="check-6" type="checkbox" name="check">
								<label for="check-6">Gym</label>

								<input id="check-7" type="checkbox" name="check">
								<label for="check-7">Alarm</label>

								<input id="check-8" type="checkbox" name="check">
								<label for="check-8">Window Covering</label>
						
							</div>
							<!-- Checkboxes / End -->

						</div>

					</div>
					<!-- More Search Options / End -->
				</div>
				</div>

				<div class="col-md-2" style="padding:0px;">
					<!-- Sort by -->
					<div class="sort-by">
						<label>Sort by:</label>

						<div class="sort-by-select">
							<select data-placeholder="Default order" class="chosen-select-no-single" >
								<option>Default Order</option>	
								<option>Price Low to High</option>
								<option>Price High to Low</option>
								<option>Newest Properties</option>
								<option>Oldest Properties</option>
							</select>
						</div>
					</div>
				</div>

				<div class="col-md-2">
					<!-- Layout Switcher -->
					<div class="layout-switcher">
						<a href="#" class="list"><i class="fa fa-th-list"></i></a>
						<a href="#" class="grid-three"><i class="fa fa-th"></i></a>
					</div>
				</div>
			</div>
			
			<!-- Listings -->
			<div class="listings-container list-layout">

				{% for listing in listings %}
					
				<!-- Listing Item -->
				<div class="listing-item">

					<a href="single-property-page-1.html" class="listing-img-container">

						<div class="listing-badges">
							<span>{{listing.status|title}}</span>
						</div>

						<div class="listing-img-content">
							<span class="listing-price">â‚¦{{listing.price|floatformat:"0"|intcomma}}</span>
							<span class="like-icon tooltip"></span>
						</div>

						<div class="listing-carousel">
							{% for item in listing.listingimages %}
								<div><img src="{{item.image}}"></div>
							{% endfor %}						
						</div>
					</a>
					
					<div class="listing-content">

						<div class="listing-title">
							<h4><a href="single-property-page-1.html">{{listing.name}}</a></h4>
							<a href="https://maps.google.com/maps?q=221B+Baker+Street,+London,+United+Kingdom&hl=en&t=v&hnear=221B+Baker+St,+London+NW1+6XE,+United+Kingdom" class="listing-address popup-gmaps">
								<i class="fa fa-map-marker"></i>
								{{listing.address}}
							</a>

							<a href="{% url 'listings:detail' pk=listing.id %}" class="details button border">Details</a>
						</div>

						<ul class="listing-details">
							<li>{{listing.bedroom}} Bedroom</li>
							<li>{% if listing.bedroom >= 3 %}
									{{ "345"|random }} Bathroom
								{% elif listing.bedroom <= 2 %}
									{{ "12"|random }} Bathroom
								{% endif %}
							</li>
						</ul>

						<div class="listing-footer">
							<a href="#"><i class="fa fa-user"></i> {{listing.added_by_user}}</a>
							<span><i class="fa fa-calendar-o"></i> {{listing.created_at|timesince}}</span>
						</div>

					</div>
				</div>
				<!-- Listing Item / End -->
				{% endfor %}

			</div>
			<!-- Listings Container / End -->

			<div class="clearfix"></div>
			
		</div>

	</div>
</div>
{% endblock %}